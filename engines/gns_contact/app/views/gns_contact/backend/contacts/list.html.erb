<% params["show_columns"] = [] if !params["show_columns"].present? %>
<table class="table table-hover">
    <thead>
        <tr class="bg-info-700">
            <% if params["show_columns"].include?("code") %>
                <th class="text-nowrap">Code</th>
            <% end %>
            <% if params["show_columns"].include?("full_name") %>
                <th class="text-nowrap">Full Name</th>
            <% end %>
            <% if params["show_columns"].include?("foreign_name") %>
                <th class="text-nowrap">Foreign Name</th>
            <% end %>
            <% if params["show_columns"].include?("contact_group") %>
                <th class="text-nowrap">Group</th>
            <% end %>
            <% if params["show_columns"].include?("business_partner_type") %>
                <th class="text-nowrap">Bus.P.Type</th>
            <% end %>
            <% if params["show_columns"].include?("tax_code") %>
                <th class="text-nowrap">Tax ID</th>
            <% end %>
            <% if params["show_columns"].include?("email") %>
                <th class="text-nowrap">Email</th>
            <% end %>
            <% if params["show_columns"].include?("phone_number") %>
                <th class="text-nowrap">Phone Number</th>
            <% end %>
            <% if params["show_columns"].include?("address") %>
                <th class="text-nowrap">Address</th>
            <% end %>
            <% if params["show_columns"].include?("status") %>
                <th class="text-nowrap">Status</th>
            <% end %>
            <% if params["show_columns"].include?("created_at") %>
                <th class="text-nowrap">Created At</th>
            <% end %>
            <% if params["show_columns"].include?("updated_at") %>
                <th class="text-nowrap">Updated At</th>
            <% end %>
            <th class="text-nowrap">Actions</th>
        </tr>
    </thead>
    <tbody>
        <% @contacts.each do |contact| %>
            <tr>
                <% if params["show_columns"].include?("code") %>
                    <td><%= contact.code %></td>
                <% end %>
                <% if params["show_columns"].include?("full_name") %>
                    <td>
                        <a href="<%= gns_contact.backend_contact_path(contact) %>"
                          class="modal-control" modal-size="full">
                            <%= contact.full_name %>
                        </a>
                    </td>
                <% end %>
                <% if params["show_columns"].include?("foreign_name") %>
                    <td><%= contact.foreign_name %></td>
                <% end %>
                <% if params["show_columns"].include?("contact_group") %>
                    <td><%= contact.categories.last.name %></td>
                <% end %>
                <% if params["show_columns"].include?("business_partner_type") %>
                    <td><%= t contact.contact_type %></td>
                <% end %>
                <% if params["show_columns"].include?("tax_code") %>
                    <td><%= contact.tax_code %></td>
                <% end %>
                <% if params["show_columns"].include?("email") %>
                    <td><%= contact.email %></td>
                <% end %>
                <% if params["show_columns"].include?("phone_number") %>
                    <td><%= contact.phone %></td>
                <% end %>
                <% if params["show_columns"].include?("address") %>
                    <td><%= contact.get_full_address %></td>
                <% end %>
                <% if params["show_columns"].include?("status") %>
                    <td>
                        <span class="badge badge-<%= contact.get_status_label %>"><%= t contact.get_status_label %></span>
                    </td>
                <% end %>
                <% if params["show_columns"].include?("created_at") %>
                    <td title="<%= contact.created_at.strftime("%d/%m/%Y - %T") %>">
                        <%= contact.created_at.strftime("%d/%m/%Y") %>
                    </td>
                <% end %>
                <% if params["show_columns"].include?("updated_at") %>
                    <td title="<%= contact.updated_at.strftime("%d/%m/%Y - %T") %>">
                        <%= contact.updated_at.strftime("%d/%m/%Y") %>
                    </td>
                <% end %>
                <td class="text-center">
                    <div class="list-icons">
                        <div class="dropdown">
                            <a href="#" class="list-icons-item" data-toggle="dropdown">
                                <i class="icon-menu9"></i>
                            </a>

                            <div class="dropdown-menu dropdown-menu-right">
                                <a href="<%= gns_contact.backend_contact_path(contact) %>" class="dropdown-item">
                                    <i class="icon-file-eye"></i> View
                                </a>
                                <a class="dropdown-item edit-contact-button"
                                    href="<%= gns_contact.edit_backend_contact_path(contact) %>">
                                    <i class="icon-pencil7"></i> Update
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item ajax datalist-g-link"
                                    href="<%= gns_contact.backend_contact_path(contact) %>"
                                    data-method="DELETE"
                                    data-confirm="You are about to delete a contact"
                                >
                                    <i class="icon-bin"></i> Delete
                                </a>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        <% end %>
    </tbody>
</table>

<div class="pagination-area">
    <div class="page_entries_info">
        <!-- Showing 1 to 10 of 19 entries -->
        <%= page_entries_info @contacts %>
    </div>

    <div class="pagination_style paging_simple_numbers">
        <%= will_paginate @contacts, previous_label: 'Prev'.html_safe, next_label: 'Next'.html_safe, renderer: BootstrapPagination::Rails, class: 'align-self-center' %>
    </div>
</div>